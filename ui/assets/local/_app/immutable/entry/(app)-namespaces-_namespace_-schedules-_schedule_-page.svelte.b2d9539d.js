import{S as $e,b as ve,a as ge,m as _,w as k,c as R,p as $,q as v,x as b,k as f,d as D,u as S,f as w,L as c,y as J,n as L,G as Nl,R as dl,H as Hl,I as jl,J as Ll,j as P,g as y,N as ml,O as pl,C,D as U,E as M,F,K as Te,e as ee,z as ze,a1 as Ol,a2 as Bl,h as Ke,ar as Qe,as as Vl,a7 as Gl,T as xe,_ as Ze,P as Jl,A as hl,v as zl,a8 as _l,V as Kl,r as Ql}from"../chunks/index.c37b9eda.js";import{p as yl}from"../chunks/stores.5c33997d.js";import{P as Xl}from"../chunks/page-title.f0713954.js";import{I as Wl}from"../chunks/icon.c853dc43.js";import{k as et,f as $l,c as Al,q as Yl}from"../chunks/route-for.84533abe.js";import{g as Zl}from"../chunks/navigation.426c5878.js";import{S as xl,a as vl,d as es,u as ts,p as ls}from"../chunks/schedule-frequency.04ad3ec3.js";import{f as pe}from"../chunks/format-date.100c5f23.js";import{t as tt}from"../chunks/time-format.48c703bd.js";import{l as Je}from"../chunks/schedules.7834862f.js";import{W as ql}from"../chunks/workflow-status.5a205ae0.js";import{g as gl}from"../chunks/workflow-service.17fc7143.js";import{E as ss}from"../chunks/empty-state.24364add.js";import{L as rs}from"../chunks/link.a7c34682.js";import{M as wl}from"../chunks/modal.38e57cdc.js";import{S as ns}from"../chunks/split-button.9772a4fe.js";import{L as Cl}from"../chunks/loading.f547fac2.js";import{c as as}from"../chunks/core-user.12e3a2c9.js";import{c as kl}from"../chunks/menu-item.a10b5609.js";function os(r){let e,l,t,n,a;return{c(){e=_("h2"),l=k("Memo"),t=R(),n=_("p"),a=k(r[0]),this.h()},l(s){e=$(s,"H2",{class:!0});var o=v(e);l=b(o,"Memo"),o.forEach(f),t=D(s),n=$(s,"P",{});var u=v(n);a=b(u,r[0]),u.forEach(f),this.h()},h(){S(e,"class","mb-4 text-2xl")},m(s,o){w(s,e,o),c(e,l),w(s,t,o),w(s,n,o),c(n,a)},p(s,[o]){o&1&&J(a,s[0])},i:L,o:L,d(s){s&&f(e),s&&f(t),s&&f(n)}}}function us(r,e,l){let{notes:t=""}=e;return r.$$set=n=>{"notes"in n&&l(0,t=n.notes)},[t]}class fs extends $e{constructor(e){super(),ve(this,e,us,os,ge,{notes:0})}}function is(r){let e,l,t;const n=r[3].default,a=Nl(n,r,r[2],null);return{c(){e=_("div"),a&&a.c(),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);a&&a.l(o),o.forEach(f),this.h()},h(){S(e,"class",l="panel bg-white "+r[1].class+" svelte-11fqqfg"),dl(e,"error",r[0])},m(s,o){w(s,e,o),a&&a.m(e,null),t=!0},p(s,[o]){a&&a.p&&(!t||o&4)&&Hl(a,n,s,s[2],t?Ll(n,s[2],o,null):jl(s[2]),null),(!t||o&2&&l!==(l="panel bg-white "+s[1].class+" svelte-11fqqfg"))&&S(e,"class",l),(!t||o&3)&&dl(e,"error",s[0])},i(s){t||(P(a,s),t=!0)},o(s){y(a,s),t=!1},d(s){s&&f(e),a&&a.d(s)}}}function cs(r,e,l){let{$$slots:t={},$$scope:n}=e,{error:a=!1}=e;return r.$$set=s=>{l(1,e=ml(ml({},e),pl(s))),"error"in s&&l(0,a=s.error),"$$scope"in s&&l(2,n=s.$$scope)},e=pl(e),[a,e,n,t]}class Xe extends $e{constructor(e){super(),ve(this,e,cs,is,ge,{error:0})}}function bl(r,e,l){const t=r.slice();return t[4]=e[l],t}function ds(r){let e,l,t,n,a=r[4].startWorkflowResult.workflowId+"",s,o,u,i,h=pe(r[4].actualTime,r[2])+"",p;return{c(){e=_("div"),l=_("div"),t=R(),n=_("div"),s=k(a),o=R(),u=_("div"),i=_("p"),p=k(h),this.h()},l(m){e=$(m,"DIV",{class:!0});var d=v(e);l=$(d,"DIV",{class:!0}),v(l).forEach(f),t=D(d),n=$(d,"DIV",{class:!0});var g=v(n);s=b(g,a),g.forEach(f),o=D(d),u=$(d,"DIV",{class:!0});var N=v(u);i=$(N,"P",{});var q=v(i);p=b(q,h),q.forEach(f),N.forEach(f),d.forEach(f),this.h()},h(){S(l,"class","w-28"),S(n,"class","w-96"),S(u,"class","ml-auto"),S(e,"class","row svelte-lqpjgu")},m(m,d){w(m,e,d),c(e,l),c(e,t),c(e,n),c(n,s),c(e,o),c(e,u),c(u,i),c(i,p)},p(m,d){d&1&&a!==(a=m[4].startWorkflowResult.workflowId+"")&&J(s,a),d&5&&h!==(h=pe(m[4].actualTime,m[2])+"")&&J(p,h)},i:L,o:L,d(m){m&&f(e)}}}function ms(r){let e,l,t,n,a,s,o,u,i,h=pe(r[4].actualTime,r[2])+"",p,m;return t=new ql({props:{status:r[7].status}}),s=new rs({props:{newTab:!0,href:$l({workflow:r[4].startWorkflowResult.workflowId,run:r[4].startWorkflowResult.runId,namespace:r[1]}),$$slots:{default:[ps]},$$scope:{ctx:r}}}),{c(){e=_("div"),l=_("div"),C(t.$$.fragment),n=R(),a=_("div"),C(s.$$.fragment),o=R(),u=_("div"),i=_("p"),p=k(h),this.h()},l(d){e=$(d,"DIV",{class:!0});var g=v(e);l=$(g,"DIV",{class:!0});var N=v(l);U(t.$$.fragment,N),N.forEach(f),n=D(g),a=$(g,"DIV",{class:!0});var q=v(a);U(s.$$.fragment,q),q.forEach(f),o=D(g),u=$(g,"DIV",{class:!0});var H=v(u);i=$(H,"P",{});var O=v(i);p=b(O,h),O.forEach(f),H.forEach(f),g.forEach(f),this.h()},h(){S(l,"class","w-28"),S(a,"class","w-auto break-words mx-2"),S(u,"class","ml-auto"),S(e,"class","row svelte-lqpjgu")},m(d,g){w(d,e,g),c(e,l),M(t,l,null),c(e,n),c(e,a),M(s,a,null),c(e,o),c(e,u),c(u,i),c(i,p),m=!0},p(d,g){const N={};g&3&&(N.status=d[7].status),t.$set(N);const q={};g&3&&(q.href=$l({workflow:d[4].startWorkflowResult.workflowId,run:d[4].startWorkflowResult.runId,namespace:d[1]})),g&257&&(q.$$scope={dirty:g,ctx:d}),s.$set(q),(!m||g&5)&&h!==(h=pe(d[4].actualTime,d[2])+"")&&J(p,h)},i(d){m||(P(t.$$.fragment,d),P(s.$$.fragment,d),m=!0)},o(d){y(t.$$.fragment,d),y(s.$$.fragment,d),m=!1},d(d){d&&f(e),F(t),F(s)}}}function ps(r){let e=r[4].startWorkflowResult.workflowId+"",l;return{c(){l=k(e)},l(t){l=b(t,e)},m(t,n){w(t,l,n)},p(t,n){n&1&&e!==(e=t[4].startWorkflowResult.workflowId+"")&&J(l,e)},d(t){t&&f(l)}}}function hs(r){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function El(r,e){let l,t,n,a,s={ctx:e,current:null,token:null,hasCatch:!0,pending:hs,then:ms,catch:ds,value:7,blocks:[,,,]};return Qe(n=gl({namespace:e[1],workflowId:et(e[4].startWorkflowResult.workflowId),runId:e[4].startWorkflowResult.runId},fetch),s),{key:r,first:null,c(){l=ee(),t=ee(),s.block.c(),this.h()},l(o){l=ee(),t=ee(),s.block.l(o),this.h()},h(){this.first=l},m(o,u){w(o,l,u),w(o,t,u),s.block.m(o,s.anchor=u),s.mount=()=>t.parentNode,s.anchor=t,a=!0},p(o,u){e=o,s.ctx=e,u&3&&n!==(n=gl({namespace:e[1],workflowId:et(e[4].startWorkflowResult.workflowId),runId:e[4].startWorkflowResult.runId},fetch))&&Qe(n,s)||Vl(s,e,u)},i(o){a||(P(s.block),a=!0)},o(o){for(let u=0;u<3;u+=1){const i=s.blocks[u];y(i)}a=!1},d(o){o&&f(l),o&&f(t),s.block.d(o),s.token=null,s=null}}}function Il(r){let e,l;return e=new ss({props:{title:"No Recent Runs"}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function _s(r){let e,l,t,n=[],a=new Map,s,o,u,i=r[3](r[0]);const h=m=>{var d,g;return(g=(d=m[4])==null?void 0:d.startWorkflowResult)==null?void 0:g.workflowId};for(let m=0;m<i.length;m+=1){let d=bl(r,i,m),g=h(d);a.set(g,n[m]=El(g,d))}let p=!r[0].length&&Il();return{c(){e=_("h2"),l=k("Recent Runs"),t=R();for(let m=0;m<n.length;m+=1)n[m].c();s=R(),p&&p.c(),o=ee(),this.h()},l(m){e=$(m,"H2",{class:!0});var d=v(e);l=b(d,"Recent Runs"),d.forEach(f),t=D(m);for(let g=0;g<n.length;g+=1)n[g].l(m);s=D(m),p&&p.l(m),o=ee(),this.h()},h(){S(e,"class","mb-4 text-2xl")},m(m,d){w(m,e,d),c(e,l),w(m,t,d);for(let g=0;g<n.length;g+=1)n[g].m(m,d);w(m,s,d),p&&p.m(m,d),w(m,o,d),u=!0},p(m,d){d&15&&(i=m[3](m[0]),ze(),n=Ol(n,d,h,1,m,i,a,s.parentNode,Bl,El,s,bl),Ke()),m[0].length?p&&(ze(),y(p,1,1,()=>{p=null}),Ke()):p?d&1&&P(p,1):(p=Il(),p.c(),P(p,1),p.m(o.parentNode,o))},i(m){if(!u){for(let d=0;d<i.length;d+=1)P(n[d]);P(p),u=!0}},o(m){for(let d=0;d<n.length;d+=1)y(n[d]);y(p),u=!1},d(m){m&&f(e),m&&f(t);for(let d=0;d<n.length;d+=1)n[d].d(m);m&&f(s),p&&p.d(m),m&&f(o)}}}function $s(r){let e,l;return e=new Xe({props:{$$slots:{default:[_s]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p(t,[n]){const a={};n&263&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function vs(r,e,l){let t;Te(r,tt,o=>l(2,t=o));let{recentRuns:n=[]}=e,{namespace:a}=e;const s=o=>{var u,i;return(i=(u=o==null?void 0:o.sort((h,p)=>new Date(p.actualTime).getTime()-new Date(h.actualTime).getTime()))===null||u===void 0?void 0:u.slice(0,5))!==null&&i!==void 0?i:[]};return r.$$set=o=>{"recentRuns"in o&&l(0,n=o.recentRuns),"namespace"in o&&l(1,a=o.namespace)},[n,a,t,s]}class gs extends $e{constructor(e){super(),ve(this,e,vs,$s,ge,{recentRuns:0,namespace:1})}}function Sl(r,e,l){const t=r.slice();return t[2]=e[l],t}function Rl(r){let e,l,t=pe(r[2],r[1],"from now")+"",n,a;return{c(){e=_("div"),l=_("p"),n=k(t),a=R(),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);l=$(o,"P",{});var u=v(l);n=b(u,t),u.forEach(f),a=D(o),o.forEach(f),this.h()},h(){S(e,"class","row svelte-kbuuws")},m(s,o){w(s,e,o),c(e,l),c(l,n),c(e,a)},p(s,o){o&3&&t!==(t=pe(s[2],s[1],"from now")+"")&&J(n,t)},d(s){s&&f(e)}}}function ws(r){let e,l,t,n,a=r[0].slice(0,5),s=[];for(let o=0;o<a.length;o+=1)s[o]=Rl(Sl(r,a,o));return{c(){e=_("h2"),l=k("Upcoming Runs"),t=R();for(let o=0;o<s.length;o+=1)s[o].c();n=ee(),this.h()},l(o){e=$(o,"H2",{class:!0});var u=v(e);l=b(u,"Upcoming Runs"),u.forEach(f),t=D(o);for(let i=0;i<s.length;i+=1)s[i].l(o);n=ee(),this.h()},h(){S(e,"class","mb-4 text-2xl")},m(o,u){w(o,e,u),c(e,l),w(o,t,u);for(let i=0;i<s.length;i+=1)s[i].m(o,u);w(o,n,u)},p(o,u){if(u&3){a=o[0].slice(0,5);let i;for(i=0;i<a.length;i+=1){const h=Sl(o,a,i);s[i]?s[i].p(h,u):(s[i]=Rl(h),s[i].c(),s[i].m(n.parentNode,n))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}},d(o){o&&f(e),o&&f(t),Gl(s,o),o&&f(n)}}}function ks(r){let e,l;return e=new Xe({props:{$$slots:{default:[ws]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p(t,[n]){const a={};n&35&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function bs(r,e,l){let t;Te(r,tt,a=>l(1,t=a));let{futureRuns:n=[]}=e;return r.$$set=a=>{"futureRuns"in a&&l(0,n=a.futureRuns)},[n,t]}class Es extends $e{constructor(e){super(),ve(this,e,bs,ks,ge,{futureRuns:0})}}function Dl(r){var Ve,oe,Ee,G,Ie,he,ue;let e,l,t=(((Ve=r[0])==null?void 0:Ve.startTime)??"")+"",n,a,s,o,u=(((oe=r[0])==null?void 0:oe.endTime)??"")+"",i,h,p,m,d=(((Ee=r[0])==null?void 0:Ee.jitter)??"")+"",g,N,q,H,O=(((Ie=(G=r[0])==null?void 0:G.excludeCalendar)==null?void 0:Ie[0])??"")+"",te,j,A,K,x=(((he=r[1])==null?void 0:he.remainingActions)??"")+"",z,T,X,le,ie=(((ue=r[2])==null?void 0:ue.overlapPolicy)??"")+"",we;return{c(){e=_("p"),l=k("Schedule Start Time: "),n=k(t),a=R(),s=_("p"),o=k("Schedule End Time: "),i=k(u),h=R(),p=_("p"),m=k("Jitter: "),g=k(d),N=R(),q=_("p"),H=k("Exclusion Calendar: "),te=k(O),j=R(),A=_("p"),K=k("Remaining Actions: "),z=k(x),T=R(),X=_("p"),le=k("Overlap Policy: "),we=k(ie)},l(I){e=$(I,"P",{});var W=v(e);l=b(W,"Schedule Start Time: "),n=b(W,t),W.forEach(f),a=D(I),s=$(I,"P",{});var se=v(s);o=b(se,"Schedule End Time: "),i=b(se,u),se.forEach(f),h=D(I),p=$(I,"P",{});var Y=v(p);m=b(Y,"Jitter: "),g=b(Y,d),Y.forEach(f),N=D(I),q=$(I,"P",{});var ce=v(q);H=b(ce,"Exclusion Calendar: "),te=b(ce,O),ce.forEach(f),j=D(I),A=$(I,"P",{});var re=v(A);K=b(re,"Remaining Actions: "),z=b(re,x),re.forEach(f),T=D(I),X=$(I,"P",{});var Z=v(X);le=b(Z,"Overlap Policy: "),we=b(Z,ie),Z.forEach(f)},m(I,W){w(I,e,W),c(e,l),c(e,n),w(I,a,W),w(I,s,W),c(s,o),c(s,i),w(I,h,W),w(I,p,W),c(p,m),c(p,g),w(I,N,W),w(I,q,W),c(q,H),c(q,te),w(I,j,W),w(I,A,W),c(A,K),c(A,z),w(I,T,W),w(I,X,W),c(X,le),c(X,we)},p(I,W){var se,Y,ce,re,Z,ye,_e;W&1&&t!==(t=(((se=I[0])==null?void 0:se.startTime)??"")+"")&&J(n,t),W&1&&u!==(u=(((Y=I[0])==null?void 0:Y.endTime)??"")+"")&&J(i,u),W&1&&d!==(d=(((ce=I[0])==null?void 0:ce.jitter)??"")+"")&&J(g,d),W&1&&O!==(O=(((Z=(re=I[0])==null?void 0:re.excludeCalendar)==null?void 0:Z[0])??"")+"")&&J(te,O),W&2&&x!==(x=(((ye=I[1])==null?void 0:ye.remainingActions)??"")+"")&&J(z,x),W&4&&ie!==(ie=(((_e=I[2])==null?void 0:_e.overlapPolicy)??"")+"")&&J(we,ie)},d(I){I&&f(e),I&&f(a),I&&f(s),I&&f(h),I&&f(p),I&&f(N),I&&f(q),I&&f(j),I&&f(A),I&&f(T),I&&f(X)}}}function Is(r){let e,l,t,n,a,s,o,u;t=new Wl({props:{class:"inline",name:r[3]?"chevron-up":"chevron-down"}});let i=r[3]&&Dl(r);return{c(){e=_("button"),l=k("Advanced Settings "),C(t.$$.fragment),n=R(),i&&i.c(),a=ee(),this.h()},l(h){e=$(h,"BUTTON",{class:!0});var p=v(e);l=b(p,"Advanced Settings "),U(t.$$.fragment,p),p.forEach(f),n=D(h),i&&i.l(h),a=ee(),this.h()},h(){S(e,"class","settings svelte-5rdr1k")},m(h,p){w(h,e,p),c(e,l),M(t,e,null),w(h,n,p),i&&i.m(h,p),w(h,a,p),s=!0,o||(u=xe(e,"click",r[4]),o=!0)},p(h,[p]){const m={};p&8&&(m.name=h[3]?"chevron-up":"chevron-down"),t.$set(m),h[3]?i?i.p(h,p):(i=Dl(h),i.c(),i.m(a.parentNode,a)):i&&(i.d(1),i=null)},i(h){s||(P(t.$$.fragment,h),s=!0)},o(h){y(t.$$.fragment,h),s=!1},d(h){h&&f(e),F(t),h&&f(n),i&&i.d(h),h&&f(a),o=!1,u()}}}function Ss(r,e,l){let{spec:t}=e,{state:n}=e,{policies:a}=e,s=!1;const o=()=>l(3,s=!s);return r.$$set=u=>{"spec"in u&&l(0,t=u.spec),"state"in u&&l(1,n=u.state),"policies"in u&&l(2,a=u.policies)},[t,n,a,s,o]}class Rs extends $e{constructor(e){super(),ve(this,e,Ss,Is,ge,{spec:0,state:1,policies:2})}}function Ds(r){let e,l,t,n,a;return{c(){e=_("p"),l=k("Error Message"),t=R(),n=_("p"),a=k(r[0]),this.h()},l(s){e=$(s,"P",{class:!0});var o=v(e);l=b(o,"Error Message"),o.forEach(f),t=D(s),n=$(s,"P",{class:!0});var u=v(n);a=b(u,r[0]),u.forEach(f),this.h()},h(){S(e,"class","error-text svelte-1lke5yx"),S(n,"class","error-text svelte-1lke5yx")},m(s,o){w(s,e,o),c(e,l),w(s,t,o),w(s,n,o),c(n,a)},p(s,o){o&1&&J(a,s[0])},d(s){s&&f(e),s&&f(t),s&&f(n)}}}function Ps(r){let e,l;return e=new Xe({props:{error:!0,$$slots:{default:[Ds]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p(t,[n]){const a={};n&3&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Ts(r,e,l){let{error:t=""}=e;return r.$$set=n=>{"error"in n&&l(0,t=n.error)},[t]}class Vs extends $e{constructor(e){super(),ve(this,e,Ts,Ps,ge,{error:0})}}function ys(r){let e,l,t,n,a,s;return a=new xl({props:{calendar:r[0],interval:r[1],class:"text-base"}}),{c(){e=_("h2"),l=k("Frequency"),t=R(),n=_("div"),C(a.$$.fragment),this.h()},l(o){e=$(o,"H2",{class:!0});var u=v(e);l=b(u,"Frequency"),u.forEach(f),t=D(o),n=$(o,"DIV",{class:!0});var i=v(n);U(a.$$.fragment,i),i.forEach(f),this.h()},h(){S(e,"class","mb-4 text-2xl"),S(n,"class","pr-2")},m(o,u){w(o,e,u),c(e,l),w(o,t,u),w(o,n,u),M(a,n,null),s=!0},p(o,u){const i={};u&1&&(i.calendar=o[0]),u&2&&(i.interval=o[1]),a.$set(i)},i(o){s||(P(a.$$.fragment,o),s=!0)},o(o){y(a.$$.fragment,o),s=!1},d(o){o&&f(e),o&&f(t),o&&f(n),F(a)}}}function Ws(r){let e,l;return e=new Xe({props:{$$slots:{default:[ys]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p(t,[n]){const a={};n&7&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function As(r,e,l){let{calendar:t=void 0}=e,{interval:n=void 0}=e;return r.$$set=a=>{"calendar"in a&&l(0,t=a.calendar),"interval"in a&&l(1,n=a.interval)},[t,n]}class qs extends $e{constructor(e){super(),ve(this,e,As,Ws,ge,{calendar:0,interval:1})}}function Cs(r){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function Us(r){let e,l,t,n;const a=[Fs,Ms],s=[];function o(u,i){return u[4]?0:1}return e=o(r),l=s[e]=a[e](r),{c(){l.c(),t=ee()},l(u){l.l(u),t=ee()},m(u,i){s[e].m(u,i),w(u,t,i),n=!0},p(u,i){let h=e;e=o(u),e===h?s[e].p(u,i):(ze(),y(s[h],1,1,()=>{s[h]=null}),Ke(),l=s[e],l?l.p(u,i):(l=s[e]=a[e](u),l.c()),P(l,1),l.m(t.parentNode,t))},i(u){n||(P(l),n=!0)},o(u){y(l),n=!1},d(u){s[e].d(u),u&&f(t)}}}function Ms(r){var lt,st,rt,nt,at,ot,ut,ft,it,ct,dt,mt,pt,ht,_t,$t,vt,gt,wt,kt,bt,Et,It,St,Rt,Dt,Pt,Tt,Vt,yt,Wt,At,qt,Ct,Ut,Mt;let e,l,t,n,a,s,o,u,i,h,p,m,d,g,N,q,H,O,te,j,A=((at=(nt=(rt=(st=(lt=r[22])==null?void 0:lt.schedule)==null?void 0:st.action)==null?void 0:rt.startWorkflow)==null?void 0:nt.workflowType)==null?void 0:at.name)+"",K,x,z,T,X,le=pe((ut=(ot=r[22])==null?void 0:ot.info)==null?void 0:ut.createTime,r[5])+"",ie,we,Ve,oe,Ee,G,Ie,he,ue,I,W,se,Y,ce,re,Z,ye,_e,ke,Ye,We,be,Be,de,Ge,me,Ae;n=new Wl({props:{name:"chevron-left",class:"inline"}}),i=new ql({props:{status:(ft=r[22])!=null&&ft.schedule.state.paused?"Paused":"Running"}});let Q=((ct=(it=r[22])==null?void 0:it.info)==null?void 0:ct.updateTime)&&Pl(r);oe=new ns({props:{position:"right",label:(pt=(mt=(dt=r[22])==null?void 0:dt.schedule)==null?void 0:mt.state)!=null&&pt.paused?"Unpause":"Pause",id:"schedule-actions",disabled:r[9],$$slots:{default:[js]},$$scope:{ctx:r}}}),oe.$on("click",r[14]);let B=((_t=(ht=r[22])==null?void 0:ht.info)==null?void 0:_t.invalidScheduleError)&&Tl(r);ue=new qs({props:{calendar:(wt=(gt=(vt=($t=r[22])==null?void 0:$t.schedule)==null?void 0:vt.spec)==null?void 0:gt.structuredCalendar)==null?void 0:wt[0],interval:(It=(Et=(bt=(kt=r[22])==null?void 0:kt.schedule)==null?void 0:bt.spec)==null?void 0:Et.interval)==null?void 0:It[0]}}),Y=new gs({props:{namespace:r[6],recentRuns:(Rt=(St=r[22])==null?void 0:St.info)==null?void 0:Rt.recentActions}}),Z=new Es({props:{futureRuns:(Pt=(Dt=r[22])==null?void 0:Dt.info)==null?void 0:Pt.futureActionTimes}}),ke=new Rs({props:{spec:(Vt=(Tt=r[22])==null?void 0:Tt.schedule)==null?void 0:Vt.spec,state:(Wt=(yt=r[22])==null?void 0:yt.schedule)==null?void 0:Wt.state,policies:(qt=(At=r[22])==null?void 0:At.schedule)==null?void 0:qt.policies}}),be=new fs({props:{notes:(Mt=(Ut=(Ct=r[22])==null?void 0:Ct.schedule)==null?void 0:Ut.state)==null?void 0:Mt.notes}});function Ul(){return r[17](r[22])}let Ml={id:"pause-schedule-modal",confirmType:"primary",confirmText:r[22].schedule.state.paused?"Unpause":"Pause",confirmDisabled:!r[3],$$slots:{content:[Os],title:[Ls]},$$scope:{ctx:r}};de=new wl({props:Ml}),r[16](de),de.$on("confirmModal",Ul);let Fl={id:"delete-schedule-modal",confirmType:"destructive",confirmText:"Delete",$$slots:{content:[Gs],title:[Bs]},$$scope:{ctx:r}};return me=new wl({props:Fl}),r[18](me),me.$on("confirmModal",r[10]),{c(){e=_("header"),l=_("div"),t=_("a"),C(n.$$.fragment),a=k("Back to Schedules"),s=R(),o=_("div"),u=_("h1"),C(i.$$.fragment),h=R(),p=_("p"),m=k(r[7]),d=R(),g=_("div"),N=_("p"),q=k(r[6]),H=R(),O=_("div"),te=R(),j=_("p"),K=k(A),x=R(),z=_("div"),T=_("p"),X=k("Created: "),ie=k(le),we=R(),Q&&Q.c(),Ve=R(),C(oe.$$.fragment),Ee=R(),G=_("div"),B&&B.c(),Ie=R(),he=_("div"),C(ue.$$.fragment),I=R(),W=_("div"),se=_("div"),C(Y.$$.fragment),ce=R(),re=_("div"),C(Z.$$.fragment),ye=R(),_e=_("div"),C(ke.$$.fragment),Ye=R(),We=_("div"),C(be.$$.fragment),Be=R(),C(de.$$.fragment),Ge=R(),C(me.$$.fragment),this.h()},l(E){e=$(E,"HEADER",{class:!0});var V=v(e);l=$(V,"DIV",{class:!0});var ne=v(l);t=$(ne,"A",{href:!0,class:!0,style:!0});var Se=v(t);U(n.$$.fragment,Se),a=b(Se,"Back to Schedules"),Se.forEach(f),s=D(ne),o=$(ne,"DIV",{class:!0});var qe=v(o);u=$(qe,"H1",{class:!0});var Re=v(u);U(i.$$.fragment,Re),h=D(Re),p=$(Re,"P",{class:!0,"data-testid":!0});var Ue=v(p);m=b(Ue,r[7]),Ue.forEach(f),Re.forEach(f),qe.forEach(f),d=D(ne),g=$(ne,"DIV",{class:!0});var fe=v(g);N=$(fe,"P",{});var Me=v(N);q=b(Me,r[6]),Me.forEach(f),H=D(fe),O=$(fe,"DIV",{class:!0}),v(O).forEach(f),te=D(fe),j=$(fe,"P",{});var De=v(j);K=b(De,A),De.forEach(f),fe.forEach(f),x=D(ne),z=$(ne,"DIV",{class:!0});var Fe=v(z);T=$(Fe,"P",{});var Ce=v(T);X=b(Ce,"Created: "),ie=b(Ce,le),Ce.forEach(f),Fe.forEach(f),we=D(ne),Q&&Q.l(ne),ne.forEach(f),Ve=D(V),U(oe.$$.fragment,V),V.forEach(f),Ee=D(E),G=$(E,"DIV",{class:!0});var ae=v(G);B&&B.l(ae),Ie=D(ae),he=$(ae,"DIV",{class:!0});var Ne=v(he);U(ue.$$.fragment,Ne),Ne.forEach(f),I=D(ae),W=$(ae,"DIV",{class:!0});var Pe=v(W);se=$(Pe,"DIV",{class:!0});var He=v(se);U(Y.$$.fragment,He),He.forEach(f),ce=D(Pe),re=$(Pe,"DIV",{class:!0});var je=v(re);U(Z.$$.fragment,je),je.forEach(f),Pe.forEach(f),ye=D(ae),_e=$(ae,"DIV",{class:!0});var Le=v(_e);U(ke.$$.fragment,Le),Le.forEach(f),Ye=D(ae),We=$(ae,"DIV",{class:!0});var Oe=v(We);U(be.$$.fragment,Oe),Oe.forEach(f),ae.forEach(f),Be=D(E),U(de.$$.fragment,E),Ge=D(E),U(me.$$.fragment,E),this.h()},h(){S(t,"href",Al({namespace:r[6]})),S(t,"class","absolute top-0 back-to-schedules svelte-1pb4ys0"),zl(t,"left","-0.5rem"),S(p,"class","font-medium select-all"),S(p,"data-testid","schedule-name"),S(u,"class","text-2xl flex relative items-center gap-4"),S(o,"class","flex justify-between items-center mt-8"),S(O,"class","w-1 h-1 rounded-full bg-gray-900"),S(g,"class","flex items-center gap-2 text-sm"),S(z,"class","flex items-center gap-2 text-sm"),S(l,"class","flex flex-col gap-1 relative"),S(e,"class","flex flex-row justify-between gap-4 mb-8"),S(he,"class","w-full xl:w-1/2"),S(se,"class","w-full xl:w-3/4"),S(re,"class","w-full xl:w-1/4 xl:min-w-[320px]"),S(W,"class","flex flex-col xl:flex-row gap-4"),S(_e,"class","w-full xl:w-1/2"),S(We,"class","w-full xl:w-1/2"),S(G,"class","flex flex-col gap-4 pb-24")},m(E,V){w(E,e,V),c(e,l),c(l,t),M(n,t,null),c(t,a),c(l,s),c(l,o),c(o,u),M(i,u,null),c(u,h),c(u,p),c(p,m),c(l,d),c(l,g),c(g,N),c(N,q),c(g,H),c(g,O),c(g,te),c(g,j),c(j,K),c(l,x),c(l,z),c(z,T),c(T,X),c(T,ie),c(l,we),Q&&Q.m(l,null),c(e,Ve),M(oe,e,null),w(E,Ee,V),w(E,G,V),B&&B.m(G,null),c(G,Ie),c(G,he),M(ue,he,null),c(G,I),c(G,W),c(W,se),M(Y,se,null),c(W,ce),c(W,re),M(Z,re,null),c(G,ye),c(G,_e),M(ke,_e,null),c(G,Ye),c(G,We),M(be,We,null),w(E,Be,V),M(de,E,V),w(E,Ge,V),M(me,E,V),Ae=!0},p(E,V){var Ce,ae,Ne,Pe,He,je,Le,Oe,Ft,Nt,Ht,jt,Lt,Ot,Bt,Gt,Jt,zt,Kt,Qt,Xt,Yt,Zt,xt,el,tl,ll,sl,rl,nl,al,ol,ul,fl,il,cl;r=E;const ne={};V&1&&(ne.status=(Ce=r[22])!=null&&Ce.schedule.state.paused?"Paused":"Running"),i.$set(ne),(!Ae||V&1)&&A!==(A=((je=(He=(Pe=(Ne=(ae=r[22])==null?void 0:ae.schedule)==null?void 0:Ne.action)==null?void 0:Pe.startWorkflow)==null?void 0:He.workflowType)==null?void 0:je.name)+"")&&J(K,A),(!Ae||V&33)&&le!==(le=pe((Oe=(Le=r[22])==null?void 0:Le.info)==null?void 0:Oe.createTime,r[5])+"")&&J(ie,le),(Nt=(Ft=r[22])==null?void 0:Ft.info)!=null&&Nt.updateTime?Q?Q.p(r,V):(Q=Pl(r),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null);const Se={};V&1&&(Se.label=(Lt=(jt=(Ht=r[22])==null?void 0:Ht.schedule)==null?void 0:jt.state)!=null&&Lt.paused?"Unpause":"Pause"),V&8388612&&(Se.$$scope={dirty:V,ctx:r}),oe.$set(Se),(Bt=(Ot=r[22])==null?void 0:Ot.info)!=null&&Bt.invalidScheduleError?B?(B.p(r,V),V&1&&P(B,1)):(B=Tl(r),B.c(),P(B,1),B.m(G,Ie)):B&&(ze(),y(B,1,1,()=>{B=null}),Ke());const qe={};V&1&&(qe.calendar=(Kt=(zt=(Jt=(Gt=r[22])==null?void 0:Gt.schedule)==null?void 0:Jt.spec)==null?void 0:zt.structuredCalendar)==null?void 0:Kt[0]),V&1&&(qe.interval=(Zt=(Yt=(Xt=(Qt=r[22])==null?void 0:Qt.schedule)==null?void 0:Xt.spec)==null?void 0:Yt.interval)==null?void 0:Zt[0]),ue.$set(qe);const Re={};V&1&&(Re.recentRuns=(el=(xt=r[22])==null?void 0:xt.info)==null?void 0:el.recentActions),Y.$set(Re);const Ue={};V&1&&(Ue.futureRuns=(ll=(tl=r[22])==null?void 0:tl.info)==null?void 0:ll.futureActionTimes),Z.$set(Ue);const fe={};V&1&&(fe.spec=(rl=(sl=r[22])==null?void 0:sl.schedule)==null?void 0:rl.spec),V&1&&(fe.state=(al=(nl=r[22])==null?void 0:nl.schedule)==null?void 0:al.state),V&1&&(fe.policies=(ul=(ol=r[22])==null?void 0:ol.schedule)==null?void 0:ul.policies),ke.$set(fe);const Me={};V&1&&(Me.notes=(cl=(il=(fl=r[22])==null?void 0:fl.schedule)==null?void 0:il.state)==null?void 0:cl.notes),be.$set(Me);const De={};V&1&&(De.confirmText=r[22].schedule.state.paused?"Unpause":"Pause"),V&8&&(De.confirmDisabled=!r[3]),V&8388617&&(De.$$scope={dirty:V,ctx:r}),de.$set(De);const Fe={};V&8388608&&(Fe.$$scope={dirty:V,ctx:r}),me.$set(Fe)},i(E){Ae||(P(n.$$.fragment,E),P(i.$$.fragment,E),P(oe.$$.fragment,E),P(B),P(ue.$$.fragment,E),P(Y.$$.fragment,E),P(Z.$$.fragment,E),P(ke.$$.fragment,E),P(be.$$.fragment,E),P(de.$$.fragment,E),P(me.$$.fragment,E),Ae=!0)},o(E){y(n.$$.fragment,E),y(i.$$.fragment,E),y(oe.$$.fragment,E),y(B),y(ue.$$.fragment,E),y(Y.$$.fragment,E),y(Z.$$.fragment,E),y(ke.$$.fragment,E),y(be.$$.fragment,E),y(de.$$.fragment,E),y(me.$$.fragment,E),Ae=!1},d(E){E&&f(e),F(n),F(i),Q&&Q.d(),F(oe),E&&f(Ee),E&&f(G),B&&B.d(),F(ue),F(Y),F(Z),F(ke),F(be),E&&f(Be),r[16](null),F(de,E),E&&f(Ge),r[18](null),F(me,E)}}}function Fs(r){let e,l;return e=new Cl({props:{title:"Deleting Schedule...",class:"my-2"}}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p:L,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function Pl(r){var s,o;let e,l,t,n=pe((o=(s=r[22])==null?void 0:s.info)==null?void 0:o.updateTime,r[5])+"",a;return{c(){e=_("div"),l=_("p"),t=k("Last updated: "),a=k(n),this.h()},l(u){e=$(u,"DIV",{class:!0});var i=v(e);l=$(i,"P",{});var h=v(l);t=b(h,"Last updated: "),a=b(h,n),h.forEach(f),i.forEach(f),this.h()},h(){S(e,"class","flex items-center gap-2 text-sm")},m(u,i){w(u,e,i),c(e,l),c(l,t),c(l,a)},p(u,i){var h,p;i&33&&n!==(n=pe((p=(h=u[22])==null?void 0:h.info)==null?void 0:p.updateTime,u[5])+"")&&J(a,n)},d(u){u&&f(e)}}}function Ns(r){let e;return{c(){e=k("Edit")},l(l){e=b(l,"Edit")},m(l,t){w(l,e,t)},d(l){l&&f(e)}}}function Hs(r){let e;return{c(){e=k("Delete Schedule")},l(l){e=b(l,"Delete Schedule")},m(l,t){w(l,e,t)},d(l){l&&f(e)}}}function js(r){let e,l,t,n;return e=new kl({props:{testId:"edit-schedule",href:Yl({namespace:r[6],scheduleId:r[7]}),$$slots:{default:[Ns]},$$scope:{ctx:r}}}),t=new kl({props:{testId:"delete-schedule",destructive:!0,$$slots:{default:[Hs]},$$scope:{ctx:r}}}),t.$on("click",r[13]),{c(){C(e.$$.fragment),l=R(),C(t.$$.fragment)},l(a){U(e.$$.fragment,a),l=D(a),U(t.$$.fragment,a)},m(a,s){M(e,a,s),w(a,l,s),M(t,a,s),n=!0},p(a,s){const o={};s&8388608&&(o.$$scope={dirty:s,ctx:a}),e.$set(o);const u={};s&8388608&&(u.$$scope={dirty:s,ctx:a}),t.$set(u)},i(a){n||(P(e.$$.fragment,a),P(t.$$.fragment,a),n=!0)},o(a){y(e.$$.fragment,a),y(t.$$.fragment,a),n=!1},d(a){F(e,a),a&&f(l),F(t,a)}}}function Tl(r){var n,a;let e,l,t;return l=new Vs({props:{error:(a=(n=r[22])==null?void 0:n.info)==null?void 0:a.invalidScheduleError}}),{c(){e=_("div"),C(l.$$.fragment),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);U(l.$$.fragment,o),o.forEach(f),this.h()},h(){S(e,"class","w-full xl:w-1/2")},m(s,o){w(s,e,o),M(l,e,null),t=!0},p(s,o){var i,h;const u={};o&1&&(u.error=(h=(i=s[22])==null?void 0:i.info)==null?void 0:h.invalidScheduleError),l.$set(u)},i(s){t||(P(l.$$.fragment,s),t=!0)},o(s){y(l.$$.fragment,s),t=!1},d(s){s&&f(e),F(l)}}}function Ls(r){let e,l=r[22].schedule.state.paused?"Unpause":"Pause",t,n;return{c(){e=_("h3"),t=k(l),n=k(" Schedule?"),this.h()},l(a){e=$(a,"H3",{slot:!0});var s=v(e);t=b(s,l),n=b(s," Schedule?"),s.forEach(f),this.h()},h(){S(e,"slot","title")},m(a,s){w(a,e,s),c(e,t),c(e,n)},p(a,s){s&1&&l!==(l=a[22].schedule.state.paused?"Unpause":"Pause")&&J(t,l)},d(a){a&&f(e)}}}function Os(r){let e,l,t,n=r[22].schedule.state.paused?"unpause":"pause",a,s,o,u,i,h,p,m,d=r[22].schedule.state.paused?"unpausing":"pausing",g,N,q,H,O,te;return{c(){e=_("div"),l=_("p"),t=k("Are you sure you want to "),a=k(n),s=R(),o=_("strong"),u=k(r[7]),i=k("?"),h=R(),p=_("p"),m=k("Enter a reason for "),g=k(d),N=k(" the schedule."),q=R(),H=_("input"),this.h()},l(j){e=$(j,"DIV",{slot:!0});var A=v(e);l=$(A,"P",{});var K=v(l);t=b(K,"Are you sure you want to "),a=b(K,n),s=D(K),o=$(K,"STRONG",{});var x=v(o);u=b(x,r[7]),x.forEach(f),i=b(K,"?"),K.forEach(f),h=D(A),p=$(A,"P",{class:!0});var z=v(p);m=b(z,"Enter a reason for "),g=b(z,d),N=b(z," the schedule."),z.forEach(f),q=D(A),H=$(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(f),this.h()},h(){S(p,"class","my-4"),S(H,"class","block w-full border border-gray-200 rounded-md p-2 mt-4"),S(H,"placeholder","Enter a reason"),S(e,"slot","content")},m(j,A){w(j,e,A),c(e,l),c(l,t),c(l,a),c(l,s),c(l,o),c(o,u),c(l,i),c(e,h),c(e,p),c(p,m),c(p,g),c(p,N),c(e,q),c(e,H),_l(H,r[3]),O||(te=[xe(H,"input",r[15]),xe(H,"keydown",Kl(r[12]))],O=!0)},p(j,A){A&1&&n!==(n=j[22].schedule.state.paused?"unpause":"pause")&&J(a,n),A&1&&d!==(d=j[22].schedule.state.paused?"unpausing":"pausing")&&J(g,d),A&8&&H.value!==j[3]&&_l(H,j[3])},d(j){j&&f(e),O=!1,Ql(te)}}}function Bs(r){let e,l;return{c(){e=_("h3"),l=k("Delete Schedule?"),this.h()},l(t){e=$(t,"H3",{slot:!0});var n=v(e);l=b(n,"Delete Schedule?"),n.forEach(f),this.h()},h(){S(e,"slot","title")},m(t,n){w(t,e,n),c(e,l)},p:L,d(t){t&&f(e)}}}function Gs(r){let e,l,t,n,a,s;return{c(){e=_("div"),l=_("p"),t=k(`Are you sure you want to delete
          `),n=_("strong"),a=k(r[7]),s=k("?"),this.h()},l(o){e=$(o,"DIV",{slot:!0});var u=v(e);l=$(u,"P",{});var i=v(l);t=b(i,`Are you sure you want to delete
          `),n=$(i,"STRONG",{});var h=v(n);a=b(h,r[7]),h.forEach(f),s=b(i,"?"),i.forEach(f),u.forEach(f),this.h()},h(){S(e,"slot","content")},m(o,u){w(o,e,u),c(e,l),c(l,t),c(l,n),c(n,a),c(l,s)},p:L,d(o){o&&f(e)}}}function Js(r){let e,l;return e=new Cl({}),{c(){C(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,n){M(e,t,n),l=!0},p:L,i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){y(e.$$.fragment,t),l=!1},d(t){F(e,t)}}}function zs(r){let e,l,t,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Js,then:Us,catch:Cs,value:22,blocks:[,,,]};return Qe(l=r[0],n),{c(){e=ee(),n.block.c()},l(a){e=ee(),n.block.l(a)},m(a,s){w(a,e,s),n.block.m(a,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(a,[s]){r=a,n.ctx=r,s&1&&l!==(l=r[0])&&Qe(l,n)||Vl(n,r,s)},i(a){t||(P(n.block),t=!0)},o(a){for(let s=0;s<3;s+=1){const o=n.blocks[s];y(o)}t=!1},d(a){a&&f(e),n.block.d(a),n.token=null,n=null}}}function Ks(r,e,l){let t,n,a,s;Te(r,Je,T=>l(4,t=T)),Te(r,yl,T=>l(20,a=T)),Te(r,tt,T=>l(5,s=T));let o=a.params.namespace,u=a.params.schedule;const i={namespace:o,scheduleId:et(u)};let h=vl(i),p,m,d="",g=as();Te(r,g,T=>l(19,n=T));let N=n.namespaceWriteDisabled(o);const q=async()=>{try{Ze(Je,t=!0,t),await es({namespace:o,scheduleId:u}),m==null||m.close(),setTimeout(()=>{Ze(Je,t=!1,t),Zl(Al({namespace:o}))},2e3)}catch(T){m==null||m.setError(`Cannot delete schedule. ${T==null?void 0:T.message}`),Ze(Je,t=!1,t)}},H=async T=>{var X,le;!((le=(X=T==null?void 0:T.schedule)===null||X===void 0?void 0:X.state)===null||le===void 0)&&le.paused?await ts({namespace:o,scheduleId:u,reason:d}):await ls({namespace:o,scheduleId:u,reason:d}),l(0,h=vl(i,fetch)),l(3,d="")};function O(T){Jl.call(this,r,T)}const te=()=>m.open(),j=()=>p.open();function A(){d=this.value,l(3,d)}function K(T){hl[T?"unshift":"push"](()=>{p=T,l(1,p)})}const x=T=>H(T);function z(T){hl[T?"unshift":"push"](()=>{m=T,l(2,m)})}return[h,p,m,d,t,s,o,u,g,N,q,H,O,te,j,A,K,x,z]}class Qs extends $e{constructor(e){super(),ve(this,e,Ks,zs,ge,{})}}function Xs(r){let e,l,t,n;return e=new Xl({props:{title:`Schedule | ${r[1]}`,url:r[0].url.href}}),t=new Qs({}),{c(){C(e.$$.fragment),l=R(),C(t.$$.fragment)},l(a){U(e.$$.fragment,a),l=D(a),U(t.$$.fragment,a)},m(a,s){M(e,a,s),w(a,l,s),M(t,a,s),n=!0},p(a,[s]){const o={};s&1&&(o.url=a[0].url.href),e.$set(o)},i(a){n||(P(e.$$.fragment,a),P(t.$$.fragment,a),n=!0)},o(a){y(e.$$.fragment,a),y(t.$$.fragment,a),n=!1},d(a){F(e,a),a&&f(l),F(t,a)}}}function Ys(r,e,l){let t;Te(r,yl,a=>l(0,t=a));const n=t.params.schedule;return[t,n]}class $r extends $e{constructor(e){super(),ve(this,e,Ys,Xs,ge,{})}}export{$r as default};
